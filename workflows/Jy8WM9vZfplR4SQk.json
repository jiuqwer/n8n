{
  "id": "Jy8WM9vZfplR4SQk",
  "name": "Match_Review_Subworkflow_Postgres",
  "nodes": [
    {
      "parameters": {},
      "id": "fea9c711-15fa-4dbd-a001-f2da959b746e",
      "name": "æ¥æ”¶ä¸»æµç¨‹æ•°æ®",
      "type": "n8n-nodes-base.executeWorkflowTrigger",
      "typeVersion": 1,
      "position": [
        -880,
        -464
      ]
    },
    {
      "parameters": {
        "schema": {
          "__rl": true,
          "value": "public",
          "mode": "list",
          "cachedResultName": "public"
        },
        "table": {
          "__rl": true,
          "value": "ai_prediction_history",
          "mode": "list",
          "cachedResultName": "ai_prediction_history"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "match_date": "={{ $json.matchTime }}",
            "home_team": "={{ $json.homeTeam }}",
            "away_team": "={{ $json.awayTeam }}",
            "league": "={{ $json.league }}",
            "ai_prediction": "={{ $json.ai_prediction }}",
            "match_code": "={{ $json.matchCode }}",
            "prediction_date": "={{ $json.predictionDate }}",
            "predict_min": "={{ $json.predict_min }}",
            "predict_max": "={{ $json.predict_max }}",
            "model_name": "={{ $json.model_name }}",
            "predict_side": "={{ $json.predict_side }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "match_date",
              "displayName": "match_date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true
            },
            {
              "id": "home_team",
              "displayName": "home_team",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "away_team",
              "displayName": "away_team",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "league",
              "displayName": "league",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "ai_prediction",
              "displayName": "ai_prediction",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "actual_score",
              "displayName": "actual_score",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "is_correct",
              "displayName": "is_correct",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "lesson_learned",
              "displayName": "lesson_learned",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "created_at",
              "displayName": "created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "total_goals",
              "displayName": "total_goals",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "prediction_date",
              "displayName": "prediction_date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "match_code",
              "displayName": "match_code",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "model_name",
              "displayName": "model_name",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "predict_min",
              "displayName": "predict_min",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "predict_max",
              "displayName": "predict_max",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "predict_side",
              "displayName": "predict_side",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "id": "495eccf6-8cff-41ff-8603-7707f5e9126e",
      "name": "Postgres_ç«‹å³æ’å…¥é¢„æµ‹",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        -432,
        -464
      ],
      "retryOnFail": true,
      "credentials": {
        "postgres": {
          "id": "pF86czUGQR9pDrjl",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "// è·å–æ‰€æœ‰è¾“å…¥çš„æ¨¡å‹æ•°æ®\nconst items = $input.all();\n\nreturn items.map(item => {\n    const data = item.json;\n    \n    // 1. è‡ªåŠ¨å…¼å®¹æ—¶é—´\n    let rawTime = data.matchTime || data.match_date;\n    let matchDate = new Date(rawTime);\n    \n    // 2. è®¾å®š 3.5 å°æ—¶åå¤ç›˜\n    const reviewTime = new Date(matchDate.getTime() + 3.5 * 60 * 60 * 1000);\n    \n    return {\n        ...data, // é‡è¦ï¼šä¿ç•™æ‰€æœ‰åŸå§‹å­—æ®µ (id, model_name, prediction_date ç­‰)\n        reviewTime: reviewTime.toISOString(),\n        match_code: data.match_code || data.matchCode,\n        prediction_date: data.prediction_date || data.predictionDate,\n        match_date: matchDate.toISOString()\n    };\n});"
      },
      "id": "80182550-0924-4aba-8cd9-aa2c9631075c",
      "name": "è®¡ç®—å¤ç›˜æ—¶é—´",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -208,
        -464
      ]
    },
    {
      "parameters": {
        "resume": "specificTime",
        "dateTime": "={{ $json.reviewTime.split('.')[0] }}"
      },
      "id": "cf173b61-7114-4e2a-a4c7-4bbfb22124d4",
      "name": "ç­‰å¾…è‡³èµ›å",
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1,
      "position": [
        16,
        -464
      ],
      "webhookId": "e4bc1c15-8070-4966-9443-115272f43409"
    },
    {
      "parameters": {
        "url": "https://api.yucejia.com/api/v1/jcMatchList",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "accept",
              "value": "*/*"
            },
            {
              "name": "accept-language",
              "value": "zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"
            },
            {
              "name": "origin",
              "value": "https://www.yucejia.com"
            },
            {
              "name": "priority",
              "value": "u=1, i"
            },
            {
              "name": "referer",
              "value": "https://www.yucejia.com/"
            },
            {
              "name": "sec-ch-ua",
              "value": "\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\""
            },
            {
              "name": "sec-ch-ua-mobile",
              "value": "?0"
            },
            {
              "name": "sec-ch-ua-platform",
              "value": "\"Windows\""
            },
            {
              "name": "sec-fetch-dest",
              "value": "empty"
            },
            {
              "name": "sec-fetch-mode",
              "value": "cors"
            },
            {
              "name": "sec-fetch-site",
              "value": "same-site"
            },
            {
              "name": "user-agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0"
            }
          ]
        },
        "options": {}
      },
      "id": "995ee2c8-7746-4cd4-bce0-ba000713ce89",
      "name": "Get_Today_Scores",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        464,
        -392
      ],
      "retryOnFail": true,
      "waitBetweenTries": 5000
    },
    {
      "parameters": {
        "url": "https://api.yucejia.com/api/v1/jcMatchList/yesterday.php",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "accept",
              "value": "*/*"
            },
            {
              "name": "accept-language",
              "value": "zh-CN,zh;q=0.9,en;q=0.8,en-GB;q=0.7,en-US;q=0.6"
            },
            {
              "name": "origin",
              "value": "https://www.yucejia.com"
            },
            {
              "name": "priority",
              "value": "u=1, i"
            },
            {
              "name": "referer",
              "value": "https://www.yucejia.com/"
            },
            {
              "name": "sec-ch-ua",
              "value": "\"Microsoft Edge\";v=\"143\", \"Chromium\";v=\"143\", \"Not A(Brand\";v=\"24\""
            },
            {
              "name": "sec-ch-ua-mobile",
              "value": "?0"
            },
            {
              "name": "sec-ch-ua-platform",
              "value": "\"Windows\""
            },
            {
              "name": "sec-fetch-dest",
              "value": "empty"
            },
            {
              "name": "sec-fetch-mode",
              "value": "cors"
            },
            {
              "name": "sec-fetch-site",
              "value": "same-site"
            },
            {
              "name": "user-agent",
              "value": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36 Edg/143.0.0.0"
            }
          ]
        },
        "options": {}
      },
      "id": "2477fb4c-cf59-42d2-8068-b28d358c95dd",
      "name": "Get_Yesterday_Scores",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [
        688,
        -392
      ],
      "retryOnFail": true,
      "waitBetweenTries": 5000
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "UPDATE ai_prediction_history \nSET \n    actual_score = '{{ $(\"åˆå¹¶æ•°æ®\").item.json.actual_score }}',\n    total_goals = {{ $(\"åˆå¹¶æ•°æ®\").item.json.total_goals }},\n    lesson_learned = '{{ $json.output }}', -- è¿™é‡Œå–å½“å‰ AI èŠ‚ç‚¹çš„åæ€å†…å®¹\n    is_correct = {{ $(\"åˆå¹¶æ•°æ®\").item.json.is_prediction_correct }} \nWHERE \n    match_code = '{{ $(\"åˆå¹¶æ•°æ®\").item.json.match_code }}' \n    AND prediction_date = '{{ $(\"åˆå¹¶æ•°æ®\").item.json.prediction_date }}'::DATE\n    AND model_name = '{{ $(\"åˆå¹¶æ•°æ®\").item.json.model_name }}';",
        "options": {}
      },
      "id": "909061ad-565a-4f9c-8c76-d7b5cd79f5c2",
      "name": "Postgres_æ›´æ–°æ¯”åˆ†å’Œå¤ç›˜",
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1712,
        -464
      ],
      "credentials": {
        "postgres": {
          "id": "pF86czUGQR9pDrjl",
          "name": "Postgres account"
        }
      }
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "/**\n * æ¨¡å¼ï¼šRun Once for Each Item (æ¯ä¸ªé¡¹ç›®æ‰§è¡Œä¸€æ¬¡)\n * å½“å‰å¤„ç†çš„æ¨¡å‹æ•°æ®å°±åœ¨ $json ä¸­\n */\nconst modelData = $json; \n\n// 1. è·å–æ¯”åˆ†æ•°æ®ï¼ˆä½¿ç”¨ .first() ç¡®ä¿è·¨åˆ†æ”¯è¯»å–æˆåŠŸï¼‰\nconst getMatches = (nodeName) => {\n    try {\n        const raw = $(nodeName).first().json.data;\n        const parsed = (typeof raw === 'string') ? JSON.parse(raw) : raw;\n        return parsed.matchList || [];\n    } catch (e) { return []; }\n};\n\nconst allMatches = [\n    ...getMatches('Get_Today_Scores'),\n    ...getMatches('Get_Yesterday_Scores')\n];\n\n// 2. åŒ¹é…æ¯”èµ›ç¼–å· (ä¾‹å¦‚ï¼šå‘¨å››013)\nconst matchCode = modelData.match_code || modelData.matchCode;\nconst matchDetails = allMatches.find(m => String(m.jcNum) === String(matchCode));\n\nif (!matchDetails) {\n    throw new Error(`æœªæ‰¾åˆ°ç¼–å· [${matchCode}] çš„æ¯”åˆ†ï¼Œè¯·ç¡®è®¤æ¯”èµ›å·²ç»“æŸã€‚`);\n}\n\n// 3. è®¡ç®—ç»“æœ\nconst homeScore = parseInt(matchDetails.homeScore || 0);\nconst awayScore = parseInt(matchDetails.awayScore || 0);\nconst totalGoals = homeScore + awayScore;\n\n// 4. åˆ¤å®šé¢„æµ‹æ˜¯å¦å‡†ç¡®\nconst isCorrect = (totalGoals >= modelData.predict_min && totalGoals <= modelData.predict_max);\n\n// 5. è¿”å›åˆå¹¶åçš„æ•°æ®ç»™ AI èŠ‚ç‚¹\nreturn {\n    ...modelData,\n    actual_score: `${homeScore}-${awayScore}`,\n    total_goals: totalGoals,\n    is_prediction_correct: isCorrect\n};"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1136,
        -464
      ],
      "id": "526c4f0d-6f6e-4f6b-a082-2b90552a7b9f",
      "name": "åˆå¹¶æ•°æ®"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "o1-pro-all",
          "mode": "list",
          "cachedResultName": "o1-pro-all"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        1368,
        -240
      ],
      "id": "69f92112-6559-47e3-96f9-d98c8caa307d",
      "name": "OpenAI Chat Model",
      "retryOnFail": true,
      "waitBetweenTries": 5000,
      "credentials": {
        "openAiApi": {
          "id": "h8jtCuruixgdtycY",
          "name": "OpenAi account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "==ä½ æ˜¯ä¸€ä¸ªä¸¥è°¨çš„è¶³çƒè¿›çƒæ•°æ•°æ®ç§‘å­¦å®¶ã€‚\n\n### 1. æ¯”èµ›åŸºæœ¬ä¿¡æ¯\n- ã€å¯¹é˜µæƒ…å†µã€‘ï¼š{{ $json.home_team }} VS {{ $json.away_team }}\n- ã€æ‰€å±è”èµ›ã€‘ï¼š{{ $json.league }}\n- ã€æ‰§è¡Œæ¨¡å‹ã€‘ï¼š{{ $json.model_name }}\n\n### 2. æ¨¡å‹é¢„æµ‹å¤ç›˜\n- ã€é¢„æµ‹åŒºé—´ã€‘ï¼š{{ $json.predict_min }} - {{ $json.predict_max }} çƒ\n- ã€åˆ¤å®šç»“æœã€‘ï¼š{{ $json.is_prediction_correct ? \"âœ… å‘½ä¸­\" : \"âŒ æœªå‘½ä¸­\" }}\n- ã€å®é™…æ€»è¿›çƒã€‘ï¼š{{ $json.total_goals }} çƒ (æ¯”åˆ† {{ $json.actual_score }})\n\n### 3. æ ¸å¿ƒé€»è¾‘å®¡è®¡ï¼ˆåŸæ¨¡å‹æ”¯æ’‘æ•°æ®ï¼‰\n{{ $json.ai_prediction }}\n\n---\n### ã€ä»»åŠ¡è¦æ±‚ã€‘\nè¯·ç»“åˆä¸Šè¿°â€œæ ¸å¿ƒé€»è¾‘å®¡è®¡â€ä¸­çš„æˆ˜æœ¯æ¨æ¼”ï¼ˆä¾‹å¦‚ä¼¤åœå½±å“ã€æ”»é˜²èŠ‚å¥ç­‰ï¼‰ä¸å®é™…æ¯”èµ›ç»“æœè¿›è¡Œå¯¹æ¯”åˆ†æï¼š\n1. **é€»è¾‘éªŒè¯**ï¼šåŸæ¨¡å‹æåˆ°çš„å…³é”®å½±å“å› ç´ ï¼ˆå¦‚é‡Œå°”ä¸­è½´çº¿çœŸç©ºï¼‰æ˜¯å¦åœ¨æ¯”èµ›ä¸­çœŸå®ä½“ç°å¹¶å½±å“äº†è¿›çƒï¼Ÿ\n2. **åå·®ä¿®æ­£**ï¼šå¦‚æœé¢„æµ‹å¤±è¯¯ï¼Œæ˜¯å› ä¸ºæ¨¡å‹ä½ä¼°äº†é˜²å®ˆå¼ºåº¦ï¼Œè¿˜æ˜¯å‡ºç°äº†æ„å¤–å˜æ•°ï¼ˆçº¢ç‰Œ/ç‚¹çƒï¼‰ï¼Ÿ\n3. **ç»éªŒæ€»ç»“**ï¼šä¸ºè¯¥æ¨¡å‹ï¼ˆ{{ $json.model_name }}ï¼‰æä¾›ä¸€æ¡å…·ä½“çš„æ”¹è¿›å»ºè®®ã€‚\n\nè¯·ä½¿ç”¨ä¸“ä¸šã€çŠ€åˆ©ä¸”ä¸å¤±å®¢è§‚çš„å£å»è¿›è¡Œå¤ç›˜ï¼Œå­—æ•°æ§åˆ¶åœ¨ 100 å­—å·¦å³ã€‚",
        "needsFallback": true,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 3.1,
      "position": [
        1360,
        -464
      ],
      "id": "18792529-367c-4196-bf85-5bca613fe87a",
      "name": "AIå¤ç›˜åæ€"
    },
    {
      "parameters": {
        "model": {
          "__rl": true,
          "value": "gemini-3-flash-preview",
          "mode": "list",
          "cachedResultName": "gemini-3-flash-preview"
        },
        "responsesApiEnabled": false,
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "typeVersion": 1.3,
      "position": [
        1496,
        -240
      ],
      "id": "be2f612e-5450-4926-9667-1d7ac5765142",
      "name": "OpenAI Chat Model1",
      "retryOnFail": true,
      "maxTries": 5,
      "waitBetweenTries": 5000,
      "credentials": {
        "openAiApi": {
          "id": "r515yWpS5wBDgTsk",
          "name": "é’äº‘API"
        }
      }
    },
    {
      "parameters": {
        "jsCode": "/**\n * ç»“æ„åŒ–æ‹†åˆ† AI é¢„æµ‹æŠ¥å‘Š\n * åŒ…å«å¥å£®çš„ try...catch é”™è¯¯å¤„ç†ä¸ä¼˜åŒ–çš„æ­£åˆ™åŒ¹é…\n */\nconst input = $input.first().json;\nconst html = input.prediction || \"\";\nconst results = [];\n\nconst models = [\n  { name: 'Gemini', icon: 'ğŸ¤–' },\n  { name: 'Claude', icon: 'ğŸ§ ' },\n  { name: 'Grok', icon: 'ğŸš€' }\n];\n\nfor (const m of models) {\n  try {\n    // 1. æå–å¯¹åº”æ¨¡å‹çš„ HTML è¡¨æ ¼ç‰‡æ®µ (ä½¿ç”¨ä¼˜åŒ–åçš„æ­£åˆ™)\n    const tableRegex = new RegExp(`${m.icon}\\\\s*${m.name}\\\\s*å†³ç­–</div>\\\\s*([\\\\s\\\\S]*?)(?=<div|$)`, 'i');\n    const match = html.match(tableRegex);\n    \n    // å¦‚æœæ²¡æœ‰åŒ¹é…åˆ°è¯¥æ¨¡å‹çš„å†…å®¹ï¼Œè®°å½•å¹¶è·³è¿‡\n    if (!match) {\n      console.warn(`æœªæ‰¾åˆ°æ¨¡å‹ ${m.name} çš„é¢„æµ‹æ•°æ®`);\n      continue;\n    }\n\n    const modelTable = match[1].trim();\n    let pMin = null, pMax = null, pSide = \"æœªçŸ¥\";\n\n    // å†…éƒ¨è§£æé€»è¾‘ä½¿ç”¨ try...catch ä¿æŠ¤ï¼Œé˜²æ­¢æ­£åˆ™åŒ¹é…å¤±è´¥\n    try {\n      // 2. æå–è¿›çƒæ•°åŒºé—´æ•°å­— (åŒ…å« 2-4, 2è‡³4 ç­‰æ ¼å¼)\n      const goalsMatch = modelTable.match(/<b>æ€»è¿›çƒæ•°åŒºé—´<\\/b><\\/td>\\s*<td[^>]*>\\s*(\\d+)\\s*[-~è‡³]\\s*(\\d+)\\s*çƒ/);\n      if (goalsMatch) {\n        pMin = parseInt(goalsMatch[1]);\n        pMax = parseInt(goalsMatch[2]);\n      }\n\n      // 3. æå–å¤§å°çƒæ–¹å‘ (å¤„ç† HTML æ ‡ç­¾å’Œå¤šä½™ç©ºæ ¼)\n      const sideMatch = modelTable.match(/<b>å¤§å°çƒæ–¹å‘<\\/b><\\/td>\\s*<td[^>]*>\\s*(.*?)\\s*<\\/td>/);\n      if (sideMatch) {\n        pSide = sideMatch[1].replace(/\\[|\\]/g, \"\").trim();\n      }\n    } catch (innerError) {\n      console.error(`è§£ææ¨¡å‹ ${m.name} è¯¦æƒ…æ•°æ®æ—¶å‡ºé”™:`, innerError);\n    }\n\n    // ç»„è£…è¾“å‡ºç»“æœ\n    results.push({\n      json: {\n        ...input, // ä¿ç•™åŸå§‹æ¯”èµ›æ•°æ®\n        model_name: m.name,\n        ai_prediction: modelTable,\n        predict_min: pMin,\n        predict_max: pMax,\n        predict_side: pSide\n      }\n    });\n\n  } catch (error) {\n    // æ•è·å¹¶è®°å½•å¤„ç†è¯¥æ¨¡å‹æ—¶çš„é‡å¤§é”™è¯¯\n    console.error(`å¤„ç†æ¨¡å‹ ${m.name} æ—¶å‘ç”Ÿä¸¥é‡é”™è¯¯:`, error);\n  }\n}\n\nreturn results;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -656,
        -464
      ],
      "id": "70a950cc-67cd-4f1f-94c9-a3c8e93ca943",
      "name": "æ‹†åˆ†æ¨¡å‹"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        912,
        -464
      ],
      "id": "c29535ae-665e-4387-8e25-46d7c3b6e653",
      "name": "Merge"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.limit",
      "typeVersion": 1,
      "position": [
        240,
        -392
      ],
      "id": "697cdec5-3eca-49c3-88d0-6670ace55754",
      "name": "Limit"
    }
  ],
  "connections": {
    "æ¥æ”¶ä¸»æµç¨‹æ•°æ®": {
      "main": [
        [
          {
            "node": "æ‹†åˆ†æ¨¡å‹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Postgres_ç«‹å³æ’å…¥é¢„æµ‹": {
      "main": [
        [
          {
            "node": "è®¡ç®—å¤ç›˜æ—¶é—´",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è®¡ç®—å¤ç›˜æ—¶é—´": {
      "main": [
        [
          {
            "node": "ç­‰å¾…è‡³èµ›å",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ç­‰å¾…è‡³èµ›å": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          },
          {
            "node": "Limit",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get_Today_Scores": {
      "main": [
        [
          {
            "node": "Get_Yesterday_Scores",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get_Yesterday_Scores": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "åˆå¹¶æ•°æ®": {
      "main": [
        [
          {
            "node": "AIå¤ç›˜åæ€",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AIå¤ç›˜åæ€",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "AIå¤ç›˜åæ€": {
      "main": [
        [
          {
            "node": "Postgres_æ›´æ–°æ¯”åˆ†å’Œå¤ç›˜",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "OpenAI Chat Model1": {
      "ai_languageModel": [
        [
          {
            "node": "AIå¤ç›˜åæ€",
            "type": "ai_languageModel",
            "index": 1
          }
        ]
      ]
    },
    "æ‹†åˆ†æ¨¡å‹": {
      "main": [
        [
          {
            "node": "Postgres_ç«‹å³æ’å…¥é¢„æµ‹",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Limit": {
      "main": [
        [
          {
            "node": "Get_Today_Scores",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "åˆå¹¶æ•°æ®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false,
    "timeSavedMode": "fixed",
    "timezone": "Asia/Shanghai",
    "callerPolicy": "workflowsFromSameOwner"
  },
  "triggerCount": 0,
  "versionId": "bfef245d-5874-4c0e-9f52-b290256dbaee",
  "owner": {
    "type": "personal",
    "projectId": "4gZXsoo5v3SNQN13",
    "projectName": "å·æ¢¦ ä¹¦ <3424771506@qq.com>",
    "personalEmail": "3424771506@qq.com"
  },
  "parentFolderId": null,
  "isArchived": false
}